html, body { height: 100%; margin: 0; padding: 0; overflow-x: hidden; }
body { font-family: 'Inter', sans-serif; padding-bottom: 5rem; }
.log-container::-webkit-scrollbar { width: 4px; }
.log-container::-webkit-scrollbar-thumb { background-color: #d1d5db; border-radius: 2px; }
.app-header-bg { background: linear-gradient(to bottom, #ffffff, #f3f4f6); }

/* ダークモード用ヘッダー背景 */
.dark .app-header-bg { background: linear-gradient(to bottom, #1f2937, #111827); border-bottom-color: #374151; }
.dark .log-container::-webkit-scrollbar-thumb { background-color: #4b5563; }

.tab-content { display: none; animation: fadeIn 0.3s ease-in-out; }
.tab-content.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
.accordion-content { transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out, margin 0.3s ease; max-height: 500px; opacity: 1; overflow: hidden; }
.accordion-content.hidden-area { max-height: 0; opacity: 0; margin: 0 !important; padding: 0 !important; border: none !important; }

/* レスポンシブなグラスコンテナ */
.glass-container { 
    width: 28vw; 
    max-width: 140px; 
    min-width: 100px;
    aspect-ratio: 2 / 3;
    position: relative; 
    z-index: 1; 
    flex-shrink: 0; 
}
.glass-body {
    width: 100%; height: 100%; background: rgba(255, 255, 255, 0.2);
    border: 5px solid rgba(255, 255, 255, 0.8); border-top: none; border-radius: 0 0 15% 15%;
    position: relative; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.1), inset 0 0 20px rgba(255,255,255,0.5);
    backdrop-filter: blur(2px);
    transition: all 0.3s ease;
}
/* ダークモード時のグラス調整 (Task 1: 視認性向上) */
.dark .glass-body {
    /* 背景の透明度を少し上げ、白っぽさを出すことで「ガラス感」を強調 */
    background: rgba(255, 255, 255, 0.1);
    /* ボーダーの不透明度を上げて輪郭をはっきりさせる */
    border-color: rgba(255, 255, 255, 0.4);
    box-shadow: 0 10px 20px rgba(0,0,0,0.6), inset 0 0 20px rgba(255,255,255,0.15);
}

.glass-handle {
    position: absolute; right: -20%; top: 15%; width: 25%; height: 45%;
    border: 5px solid rgba(255, 255, 255, 0.8); border-left: none; border-radius: 0 20px 20px 0; z-index: 0;
    transition: border-color 0.3s ease;
}
.dark .glass-handle {
    border-color: rgba(255, 255, 255, 0.4);
}

.liquid {
    position: absolute; bottom: 0; left: 0; width: 100%; height: 0%;
    transition: height 1s ease-in-out, background-color 0.5s ease; z-index: 2;
}
.liquid.mode1 { background: linear-gradient(to top, #d97706, #fbbf24); opacity: 0.9; }
.liquid.mode2 { background: linear-gradient(to top, #d97706, #fbbf24); filter: blur(1px) brightness(1.1); opacity: 1; }

.wave-surface {
    position: absolute; top: -5px; left: 0; width: 200%; height: 20px;
    background: inherit; border-radius: 40%; opacity: 0.6; animation: wave 3s infinite linear;
}
.bubble { position: absolute; background: rgba(255,255,255,0.6); border-radius: 50%; }

/* Table styles for help modal */
.help-table { width: 100%; text-align: left; border-collapse: collapse; font-size: 0.75rem; }
.help-table th { background-color: #f9fafb; padding: 8px; border-bottom: 2px solid #e5e7eb; font-weight: bold; color: #4b5563; }
.help-table td { padding: 8px; border-bottom: 1px solid #f3f4f6; color: #374151; vertical-align: top; }
.help-table tr:last-child td { border-bottom: none; }

/* ヒートマップセル調整 (Task 1: タップ領域拡大) */
.heatmap-cell {
    position: relative;
    /* タッチデバイスでのタップ遅延対策 */
    touch-action: manipulation;
}
.heatmap-cell::after {
    content: '';
    position: absolute;
    top: -6px; bottom: -6px; left: -6px; right: -6px;
    z-index: 10;
}